<html>
<head>
  <title>WaveDrom Tutorial</title>
  <link rel="shortcut icon" href="images/favicon.ico"/>
  <script type="text/javascript" src="skins/default.js"></script>
  <script type="text/javascript" src="WaveDrom.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Inconsolata|Varela+Round' rel='stylesheet' type='text/css'>
  <link href="tutorial.css" media="screen" rel="Stylesheet" type="text/css" /> 
</head>

<body onload="WaveDrom.ProcessAll('skins/default.svg')">

<div class="content">

<h1>WaveDrom Tutorial</h1>

WaveDrom is an JavaScript application and WaveJSON format allows describtion of
Digital Timing Diagrams and its rendering them directly inside the browser.
Timing digram described as JSON data structure.
Element <span class="fixed">"signal"</span> is an array of wavelanes.
Each wavelane has two mandatory fileds: <span class="fixed">"name"</span>
 and <span class="fixed">"wave"</span>.

<h2>Step 1. The Signal</h2>

Lets start with the quick example.
Following code will create 1-bit signal named <span class="fixed">"Alfa"</span>
 that changes it's state over time.

<pre>
{ "signal" : [{ "name": "Alfa", "wave": "01.zx=ud.23.45" }] }
</pre>

Every character in the <span class="fixed">"wave"</span> string represents single time period.
Symbol <span class="fixed">"."</span> extends previous state for one more period.
Here is how it looks like:

<script type="WaveDrom">
{ "signal" : [{ "name": "Alfa", "wave": "01.zx=ud.23.45" }] }
</script>


<h2>Step 2. Adding Clock</h2>

Digital clock is the special type of signal.
It changes twice per time period and can have positive or negative polarity.
It also can have optional marker on the working edge.
Here is the code:

<pre class="WaveDrom">
{ "signal" : [
  { "name": "pclk", "wave": "p....." },
  { "name": "Pclk", "wave": "P....." },
  { "name": "nclk", "wave": "n....." },
  { "name": "Nclk", "wave": "N....." }
]}
</pre>

And the rendered diagram:

<script type="WaveDrom">
{ "signal" : [
  { "name": "pclk", "wave": "p....." },
  { "name": "Pclk", "wave": "P....." },
  { "name": "nclk", "wave": "n....." },
  { "name": "Nclk", "wave": "N....." }
]}
</script>


<h2>Step 3. Putting all together</h2>

Typical timing diagram would have clock and signals (wires).
Multi-bit signals will try grabbing labels from <span class="fixed">"data"</span> array.

<pre>
{ "signal" : [
  { "name": "clk",  "wave": "P......" },
  { "name": "bus",  "wave": "x.==.=x", "data": ["head", "body", "tail", "data"] },
  { "name": "wire", "wave": "0.1..0." }
]}
</pre>

<script type="WaveDrom">
{ "signal" : [
  { "name": "clk",  "wave": "P......" },
  { "name": "bus",  "wave": "x.==.=x", "data": ["head", "body", "tail", "data"] },
  { "name": "wire", "wave": "0.1..0." }
]}
</script>

<h2>Step 4. Spacers and Gaps</h2>

<pre>
{ "signal" : [
  { "name": "clk",         "wave": "p.....|..." },
  { "name": "Data",        "wave": "x.345x|=.x", "data": ["head", "body", "tail", "data"] },
  { "name": "Request",     "wave": "0.1..0|1.0" },
  {},
  { "name": "Acknowledge", "wave": "1.....|01." }
]}
</pre>

<script type="WaveDrom">
{ "signal" : [
  { "name": "clk",         "wave": "p.....|..." },
  { "name": "Data",        "wave": "x.345x|=.x", "data": ["head", "body", "tail", "data"] },
  { "name": "Request",     "wave": "0.1..0|1.0" },
  {},
  { "name": "Acknowledge", "wave": "1.....|01." }
]}
</script>

<h2>Step 5. DDR Examples</h2>

<h3>DDR Read transaction</h3>

<pre>
{ "signal" : [
  { "name": "CK",  "wave": "0.1.0.1.0.1.0.1.0.1.0.1.0.1."},
  { "name": "CMD", "wave": "x3.x.=.x.4.x.=.x.=.x.=.x.=.x", "data" : ["RAS", "NOP", "CAS", "NOP", "NOP", "NOP", "NOP"] },
  { "name": "ADDR","wave": "x=.x.....=.x................", "data" : ["Bank ROW", "Bank COL"] },
  { "name": "DQS", "wave": "z.............0...1.0.1.0.z." },
  { "name": "DQ",  "wave": "z.................5.5.5.5.z.", "data" : ["D0","D1","D2","D3"] }
]}
</pre>

<script type="WaveDrom">
{ "signal" : [
  { "name": "CK",  "wave": "0.1.0.1.0.1.0.1.0.1.0.1.0.1."},
  { "name": "CMD", "wave": "x3.x.=.x.4.x.=.x.=.x.=.x.=.x", "data" : ["RAS", "NOP", "CAS", "NOP", "NOP", "NOP", "NOP"] },
  { "name": "ADDR","wave": "x=.x.....=.x................", "data" : ["Bank ROW", "Bank COL"] },
  { "name": "DQS", "wave": "z.............0...1.0.1.0.z." },
  { "name": "DQ",  "wave": "z.................5.5.5.5.z.", "data" : ["D0","D1","D2","D3"] }
]}
</script>

<h3>DDR Latency digram</h3>

<pre>
{ "signal" : [
  { "name": "CK",    "wave": "0.1.0.1.0.1.0.1.0.1.0.1.0.1"},
  { "name": "CMD",   "wave": "x4.x.......................", "data" : ["CAS"]},
  [ "DQ",
    { "name": "L=2", "wave": "z.........5.5.5.5.z........", "data" : ["D0", "D1", "D2", "D3"] },
    { "name": "L=3", "wave": "z.............5.5.5.5.z....", "data" : ["D0", "D1", "D2", "D3"] },
    { "name": "L=4", "wave": "z.................5.5.5.5.z", "data" : ["D0", "D1", "D2", "D3"] }
  ]
]}
</pre>

<script type="WaveDrom">
{ "signal" : [
  { "name": "CK",    "wave": "0.1.0.1.0.1.0.1.0.1.0.1.0.1"},
  { "name": "CMD",   "wave": "x4.x.......................", "data" : ["CAS"]},
  [ "DQ",
    { "name": "L=2", "wave": "z.........5.5.5.5.z........", "data" : ["D0", "D1", "D2", "D3"] },
    { "name": "L=3", "wave": "z.............5.5.5.5.z....", "data" : ["D0", "D1", "D2", "D3"] },
    { "name": "L=4", "wave": "z.................5.5.5.5.z", "data" : ["D0", "D1", "D2", "D3"] }
  ]
]}
</script>

<h2>Step 6. Config</h2>

<h3>hscale</h3>

<pre>
{ "signal" : [
  { "name": "clk",         "wave": "p...." },
  { "name": "Data",        "wave": "x345x", "data": ["head", "body", "tail"] },
  { "name": "Request",     "wave": "01..0" }
],
  "config" : { "hscale" : # }
}
</pre>

<h3>hscale = 1 (default)</h3>

<script type="WaveDrom">
{ "signal" : [
  { "name": "clk",         "wave": "p...." },
  { "name": "Data",        "wave": "x345x", "data": ["head", "body", "tail"] },
  { "name": "Request",     "wave": "01..0" }
]}
</script>

<h3>hscale = 2</h3>

<script type="WaveDrom">
{ "signal" : [
  { "name": "clk",         "wave": "p...." },
  { "name": "Data",        "wave": "x345x", "data": ["head", "body", "tail"] },
  { "name": "Request",     "wave": "01..0" }
],
  "config" : { "hscale" : 2 }
}
</script>

<h3>hscale = 3</h3>

<script type="WaveDrom">
{ "signal" : [
  { "name": "clk",         "wave": "p...." },
  { "name": "Data",        "wave": "x345x", "data": ["head", "body", "tail"] },
  { "name": "Request",     "wave": "01..0" }
],
  "config" : { "hscale" : 3 }
}
</script>

</div>
</body>
</html>
